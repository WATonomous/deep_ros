{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Setup Devcontainer (CPU Only)",
      "type": "shell",
      "command": "./.devcontainer/generate_devcontainer.sh",
      "args": [
        "${input:rosDistro}",
        "cpu"
      ],
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    },
    {
      "label": "Setup Devcontainer (GPU)",
      "type": "shell",
      "command": "./.devcontainer/generate_devcontainer.sh",
      "args": [
        "${input:rosDistro}",
        "gpu",
        "${input:cudaVersion}",
        "${input:ubuntuVersion}"
      ],
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    }
  ],
  "inputs": [
    {
      "id": "rosDistro",
      "type": "pickString",
      "description": "Select ROS2 distribution",
      "options": [
        "humble",
        "iron",
        "jazzy",
        "rolling"
      ],
      "default": "humble"
    },
    {
      "id": "containerType",
      "type": "pickString",
      "description": "Select container type",
      "options": [
        {
          "label": "CPU Only",
          "value": "cpu"
        },
        {
          "label": "GPU Enabled (NVIDIA)",
          "value": "gpu"
        }
      ],
      "default": "cpu"
    },
    {
      "id": "cudaVersion",
      "type": "pickString",
      "description": "Select CUDA version",
      "options": [
        "12.8.0",
        "12.6.2",
        "12.5.1",
        "12.4.1",
        "12.4.0",
        "12.3.2",
        "12.2.2",
        "12.1.1",
        "12.0.1"
      ],
      "default": "12.4.0"
    },
    {
      "id": "ubuntuVersion",
      "type": "pickString",
      "description": "Select Ubuntu version",
      "options": [
        {
          "label": "Ubuntu 24.04 (Noble)",
          "value": "24.04"
        },
        {
          "label": "Ubuntu 22.04 (Jammy)",
          "value": "22.04"
        },
        {
          "label": "Ubuntu 20.04 (Focal)",
          "value": "20.04"
        }
      ],
      "default": "22.04"
    }
  ]
}
