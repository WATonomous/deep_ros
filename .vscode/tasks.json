{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Setup Devcontainer (CPU Only)",
      "type": "shell",
      "command": "./.devcontainer/generate_devcontainer.sh",
      "args": [
        "${input:rosDistro}",
        "cpu"
      ],
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    },
    {
      "label": "Setup Devcontainer (GPU)",
      "type": "shell",
      "command": "./.devcontainer/generate_devcontainer.sh",
      "args": [
        "${input:rosDistro}",
        "gpu",
        "${input:nvidiaContainer}"
      ],
      "problemMatcher": [],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    }
  ],
  "inputs": [
    {
      "id": "rosDistro",
      "type": "pickString",
      "description": "Select ROS2 distribution",
      "options": [
        "humble",
        "iron",
        "jazzy",
        "rolling"
      ],
      "default": "humble"
    },
    {
      "id": "containerType",
      "type": "pickString",
      "description": "Select container type",
      "options": [
        {
          "label": "CPU Only",
          "value": "cpu"
        },
        {
          "label": "GPU Enabled (NVIDIA)",
          "value": "gpu"
        }
      ],
      "default": "cpu"
    },
    {
      "id": "nvidiaContainer",
      "type": "pickString",
      "description": "Select NVIDIA CUDA container (runtime + cuDNN, Ubuntu 20/22/24)",
      "options": [
        "12.8.0-cudnn-runtime-ubuntu24.04",
        "12.8.0-cudnn-runtime-ubuntu22.04",
        "12.8.0-cudnn-runtime-ubuntu20.04",
        "12.6.2-cudnn-runtime-ubuntu24.04",
        "12.6.2-cudnn-runtime-ubuntu22.04",
        "12.6.2-cudnn-runtime-ubuntu20.04",
        "12.5.1-cudnn-runtime-ubuntu24.04",
        "12.5.1-cudnn-runtime-ubuntu22.04",
        "12.5.1-cudnn-runtime-ubuntu20.04",
        "12.4.1-cudnn-runtime-ubuntu24.04",
        "12.4.1-cudnn-runtime-ubuntu22.04",
        "12.4.1-cudnn-runtime-ubuntu20.04",
        "12.3.2-cudnn-runtime-ubuntu22.04",
        "12.3.2-cudnn-runtime-ubuntu20.04",
        "12.2.2-cudnn8-runtime-ubuntu22.04",
        "12.2.2-cudnn8-runtime-ubuntu20.04",
        "12.1.1-cudnn8-runtime-ubuntu22.04",
        "12.1.1-cudnn8-runtime-ubuntu20.04",
        "12.0.1-cudnn8-runtime-ubuntu22.04",
        "12.0.1-cudnn8-runtime-ubuntu20.04"
      ],
      "default": "12.4.1-cudnn-runtime-ubuntu22.04"
    }
  ]
}
